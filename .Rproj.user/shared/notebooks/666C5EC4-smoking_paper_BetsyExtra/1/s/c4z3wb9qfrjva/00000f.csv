"0",""
"0","### Specify how many years ago Former smokers quit or reduced"
"0","# Definitions for both **continuous** and **binned (2 by 2)** variables. This will come in handy in the years-since-quitting analysis"
"0",""
"0","chrismb_phy <- meta(chrismb_phy) %>% "
"0","  mutate(smoking_habit_quit.OR.reduced_years = case_when("
"0","    smoking_exposure_ga == ""Former"" & is.na(years_since_quit.OR.reduced_smoking) ~ ""Former_unknown"","
"0","    smoking_exposure_ga == ""Former"" & years_since_quit.OR.reduced_smoking <= 5 ~ paste(smoking_exposure_ga, years_since_quit.OR.reduced_smoking, sep = ""_""),"
"0","    smoking_exposure_ga == ""Former"" & years_since_quit.OR.reduced_smoking > 5 ~ paste(smoking_exposure_ga, ""6+"", sep = ""_""),"
"0","    smoking_exposure_ga == ""Never"" | smoking_exposure_ga == ""Current"" ~ as.character(smoking_exposure_ga)"
"0","  ),"
"0","  "
"0","  smoking_habit_quit.OR.reduced_years_binned = case_when("
"0","    smoking_exposure_ga == ""Former"" &"
"0","      parse_number(smoking_habit_quit.OR.reduced_years) <= 1 ~ ""Former [0,1]"","
"0","    smoking_exposure_ga == ""Former"" &"
"0","      between(parse_number(smoking_habit_quit.OR.reduced_years), 2, 3) ~ ""Former [2,3]"","
"0","    smoking_exposure_ga == ""Former"" &"
"0","      between(parse_number(smoking_habit_quit.OR.reduced_years), 4, 5) ~ ""Former [4,5]"","
"0","    smoking_exposure_ga == ""Former"" &"
"0","      parse_number(smoking_habit_quit.OR.reduced_years) > 5 ~"
"0","      ""Former 6+"","
"0","    smoking_exposure_ga == ""Never"" |"
"0","      smoking_exposure_ga == ""Current"" ~ as.character(smoking_exposure_ga),"
"0","    smoking_habit_quit.OR.reduced_years == ""Former_unknown"" ~ ""Former_unknown"""
"0","  )"
"0","  "
"0","  ) %>% "
"0","  phy_substitute_metadata(chrismb_phy, .)"
"0",""
"0","chrismb_phy@sam_data$years_since_quit.OR.reduced_smoking_binned <- cut(chrismb_phy@sam_data$years_since_quit.OR.reduced_smoking, c(0,1,2,3,5,10,61))"
"0",""
